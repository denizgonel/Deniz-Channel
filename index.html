<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
<link rel="icon" href="assets/pixil-frame-0.png" type="image/x-icon">
<title>Ramadan Renditions</title>
<style>

.hamburger {
  position: fixed;
  top: 0px; 
  left: 20px;
  z-index: 100;
  cursor: pointer;
  transition: transform 350ms ease-in;
}

.menu {
  display: none;
  background-color: yellow;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 1000px;
  background-color: #1c692a;
  padding: 20px 0;
  box-sizing: border-box;
  transition: transform 350ms ease-in;
  z-index: 99;
}

.menu ul {
  list-style: none;
  padding: 0;
  text-align: center;
}

.menu ul li {
  margin: 10px 0;
}

.menu ul li a {
  color: #fff;
  text-decoration: none;
  font-size: 20px;
}
</style>
</head>
<body>
    <div class="hamburger" onclick="toggleMenu()">
        <svg width="45" height="45" viewBox="0 0 100 100">
            <path class="hamburger-icon" stroke="#000" stroke-width="10" stroke-linecap="round" d="M 20,30 H 80 M 20,50 H 80 M 20,70 H 80"/>
        </svg>
    </div>
    <div class="menu" id="menu">
        <ul>
            <div class="title-card" style="padding: 0px; border-radius: 100px; text-align: center; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: black; z-index: 1; font-size: 50px; transform: translate3d(-850px, -490px, 0px);">
                <h1>Ramadan Renditions</h1>
            </div>

            <div class="title-card-small" style="padding: 0px; border-radius: 100px; text-align: center; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: yellow; z-index: 1; font-size: 30px; transform: translate3d(-500px, -220px, 0px);">
                <p>Letters of Light</p>
            </div>

            <div class="title-card-list" style="padding: 0px; border-radius: 100px; text-align:left ; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-family: 'PoiretOne'; color: yellow; z-index: 1; font-size: 25px; transform: translate3d(-580px, 220px, 0px);">
                <p>1. Click tile to reveal typography.</p>
                <p>2. Click twice to open typography.</p>
                <p>3. Click thrice to display tile again.</p> 
            </div>

            <img src="assets/images/background.png" style="max-width: 100%; max-height: 100%; object-fit: scale-down;">
            
        </ul>
    </div>

    <section class="above">
        <div></div>
    </section>

<script>
// JavaScript function to toggle the visibility of the menu
function toggleMenu() {
    var menu = document.getElementById("menu");
    menu.style.display = (menu.style.display === "block") ? "none" : "block";
}

function createFlipFunction(frontImageSrc, backImageSrc) {
    let clickCount = 0;
    

    return function(event) {
        const container = event.currentTarget;
        clickCount++;

        if (clickCount === 1) {
            // Toggle the 'flipped' class to switch between front and back images
            container.classList.toggle('flipped');
        } else if (clickCount === 2) {
            // Open back image in a new tab with a specific background color
            const newTab = window.open(backImageSrc, '_blank');
            if (newTab) {
                newTab.document.body.style.backgroundColor = '#1c692a';
            }
        } else if (clickCount === 3) {
            // Reset click count and flip back to the original image
            container.classList.toggle('flipped');
            clickCount = 0;
        }
    };
}

function generateTilesAndFonts() {
    const body = document.body;

    for (let i = 1; i <= 98; i++) {
        const tileNumber = ("0" + i).slice(-2);
        const tileSrc = `assets/tiles/tile${tileNumber}.png`;
        const fontSrc = `assets/typography/font${tileNumber}.png`;

        const imageContainer = document.createElement('div');
        imageContainer.className = 'image-container';
        imageContainer.onclick = createFlipFunction(tileSrc, fontSrc);
        imageContainer.style.zIndex = '1';
        imageContainer.style.top = '0';
        imageContainer.style.left = '0';
        imageContainer.style.position = 'absolute';
        imageContainer.style.transform = `translate3d(${calculateTranslateX(i)}px, ${calculateTranslateY(i)}px, 0px)`;

        const frontImage = document.createElement('img');
        frontImage.className = 'front-image';
        frontImage.src = tileSrc;
        frontImage.alt = `Image ${i}`;

        const backImage = document.createElement('img');
        backImage.className = 'back-image';
        backImage.src = fontSrc;
        backImage.alt = `Image ${i}`;

        imageContainer.appendChild(frontImage);
        imageContainer.appendChild(backImage);

        body.appendChild(imageContainer);
    }
}

function calculateTranslateX(index) {
    const columnIndex = (index - 1) % 14;
    return columnIndex * 129; // Adjust based on image width
}

function calculateTranslateY(index) {
    const rowIndex = Math.floor((index - 1) / 14);
    return rowIndex * 129; // Adjust based on image height
}

// Add event listeners to all image containers
document.addEventListener('DOMContentLoaded', function() {
    generateTilesAndFonts();
});
</script>
</body>
</html>
